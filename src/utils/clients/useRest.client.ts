import axios, { AxiosError, AxiosRequestConfig } from 'axios';
import { unAuthorizedHandler } from './unAuthorizedHandler.util';
import { TResponse, createResponseUtil } from '../response.util';

export const urlBase = "https://aponusweb.onrender.com/Aponus"

const getConfigWithTokenHelper = (config: AxiosRequestConfig | undefined): AxiosRequestConfig => {
    return {
        ...config,
        headers: {
            ...config?.headers,
            Authorization: `bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImFkbWluaXN0cmFkb3IiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJhZG1pbkBhZG1pbi5jb20iLCJSb2wiOiJhZG1pbiIsIlBlcm1pc29zIjoiX19FRk1pZ3JhdGlvbnNIaXN0b3J5OklOU0VSVCxfX0VGTWlncmF0aW9uc0hpc3Rvcnk6U0VMRUNULF9fRUZNaWdyYXRpb25zSGlzdG9yeTpVUERBVEUsX19FRk1pZ3JhdGlvbnNIaXN0b3J5OkRFTEVURSxfX0VGTWlncmF0aW9uc0hpc3Rvcnk6VFJVTkNBVEUsX19FRk1pZ3JhdGlvbnNIaXN0b3J5OlJFRkVSRU5DRVMsX19FRk1pZ3JhdGlvbnNIaXN0b3J5OlRSSUdHRVIsUEFHT1NfVkVOVEFTOklOU0VSVCxQQUdPU19WRU5UQVM6U0VMRUNULFBBR09TX1ZFTlRBUzpVUERBVEUsUEFHT1NfVkVOVEFTOkRFTEVURSxQQUdPU19WRU5UQVM6VFJVTkNBVEUsUEFHT1NfVkVOVEFTOlJFRkVSRU5DRVMsUEFHT1NfVkVOVEFTOlRSSUdHRVIsQ09NUFJBUzpJTlNFUlQsQ09NUFJBUzpTRUxFQ1QsQ09NUFJBUzpVUERBVEUsQ09NUFJBUzpERUxFVEUsQ09NUFJBUzpUUlVOQ0FURSxDT01QUkFTOlJFRkVSRU5DRVMsQ09NUFJBUzpUUklHR0VSLEVTVEFET1NfQ1VPVEFTX1ZFTlRBUzpJTlNFUlQsRVNUQURPU19DVU9UQVNfVkVOVEFTOlNFTEVDVCxFU1RBRE9TX0NVT1RBU19WRU5UQVM6VVBEQVRFLEVTVEFET1NfQ1VPVEFTX1ZFTlRBUzpERUxFVEUsRVNUQURPU19DVU9UQVNfVkVOVEFTOlRSVU5DQVRFLEVTVEFET1NfQ1VPVEFTX1ZFTlRBUzpSRUZFUkVOQ0VTLEVTVEFET1NfQ1VPVEFTX1ZFTlRBUzpUUklHR0VSLENVT1RBU19WRU5UQVM6SU5TRVJULENVT1RBU19WRU5UQVM6U0VMRUNULENVT1RBU19WRU5UQVM6VVBEQVRFLENVT1RBU19WRU5UQVM6REVMRVRFLENVT1RBU19WRU5UQVM6VFJVTkNBVEUsQ1VPVEFTX1ZFTlRBUzpSRUZFUkVOQ0VTLENVT1RBU19WRU5UQVM6VFJJR0dFUixTVE9DS19JTlNVTU9TOklOU0VSVCxTVE9DS19JTlNVTU9TOlNFTEVDVCxTVE9DS19JTlNVTU9TOlVQREFURSxTVE9DS19JTlNVTU9TOkRFTEVURSxTVE9DS19JTlNVTU9TOlRSVU5DQVRFLFNUT0NLX0lOU1VNT1M6UkVGRVJFTkNFUyxTVE9DS19JTlNVTU9TOlRSSUdHRVIsQ09NUFJBU19ERVRBTExFOklOU0VSVCxDT01QUkFTX0RFVEFMTEU6U0VMRUNULENPTVBSQVNfREVUQUxMRTpVUERBVEUsQ09NUFJBU19ERVRBTExFOkRFTEVURSxDT01QUkFTX0RFVEFMTEU6VFJVTkNBVEUsQ09NUFJBU19ERVRBTExFOlJFRkVSRU5DRVMsQ09NUFJBU19ERVRBTExFOlRSSUdHRVIsQ09NUE9ORU5URVNfREVUQUxMRTpJTlNFUlQsQ09NUE9ORU5URVNfREVUQUxMRTpTRUxFQ1QsQ09NUE9ORU5URVNfREVUQUxMRTpVUERBVEUsQ09NUE9ORU5URVNfREVUQUxMRTpERUxFVEUsQ09NUE9ORU5URVNfREVUQUxMRTpUUlVOQ0FURSxDT01QT05FTlRFU19ERVRBTExFOlJFRkVSRU5DRVMsQ09NUE9ORU5URVNfREVUQUxMRTpUUklHR0VSLEVOVElEQURFU19DQVRFR09SSUFTOklOU0VSVCxFTlRJREFERVNfQ0FURUdPUklBUzpTRUxFQ1QsRU5USURBREVTX0NBVEVHT1JJQVM6VVBEQVRFLEVOVElEQURFU19DQVRFR09SSUFTOkRFTEVURSxFTlRJREFERVNfQ0FURUdPUklBUzpUUlVOQ0FURSxFTlRJREFERVNfQ0FURUdPUklBUzpSRUZFUkVOQ0VTLEVOVElEQURFU19DQVRFR09SSUFTOlRSSUdHRVIsQ09NUE9ORU5URVNfREVTQ1JJUENJT046SU5TRVJULENPTVBPTkVOVEVTX0RFU0NSSVBDSU9OOlNFTEVDVCxDT01QT05FTlRFU19ERVNDUklQQ0lPTjpVUERBVEUsQ09NUE9ORU5URVNfREVTQ1JJUENJT046REVMRVRFLENPTVBPTkVOVEVTX0RFU0NSSVBDSU9OOlRSVU5DQVRFLENPTVBPTkVOVEVTX0RFU0NSSVBDSU9OOlJFRkVSRU5DRVMsQ09NUE9ORU5URVNfREVTQ1JJUENJT046VFJJR0dFUixBUkNISVZPU19TVE9DSzpJTlNFUlQsQVJDSElWT1NfU1RPQ0s6U0VMRUNULEFSQ0hJVk9TX1NUT0NLOlVQREFURSxBUkNISVZPU19TVE9DSzpERUxFVEUsQVJDSElWT1NfU1RPQ0s6VFJVTkNBVEUsQVJDSElWT1NfU1RPQ0s6UkVGRVJFTkNFUyxBUkNISVZPU19TVE9DSzpUUklHR0VSLEVTVEFET1NfU1VNSU5JU1RST1NfTU9WSU1JRU5UT1NfU1RPQ0s6SU5TRVJULEVTVEFET1NfU1VNSU5JU1RST1NfTU9WSU1JRU5UT1NfU1RPQ0s6U0VMRUNULEVTVEFET1NfU1VNSU5JU1RST1NfTU9WSU1JRU5UT1NfU1RPQ0s6VVBEQVRFLEVTVEFET1NfU1VNSU5JU1RST1NfTU9WSU1JRU5UT1NfU1RPQ0s6REVMRVRFLEVTVEFET1NfU1VNSU5JU1RST1NfTU9WSU1JRU5UT1NfU1RPQ0s6VFJVTkNBVEUsRVNUQURPU19TVU1JTklTVFJPU19NT1ZJTUlFTlRPU19TVE9DSzpSRUZFUkVOQ0VTLEVTVEFET1NfU1VNSU5JU1RST1NfTU9WSU1JRU5UT1NfU1RPQ0s6VFJJR0dFUixQUk9EVUNUT1NfREVTQ1JJUENJT046SU5TRVJULFBST0RVQ1RPU19ERVNDUklQQ0lPTjpTRUxFQ1QsUFJPRFVDVE9TX0RFU0NSSVBDSU9OOlVQREFURSxQUk9EVUNUT1NfREVTQ1JJUENJT046REVMRVRFLFBST0RVQ1RPU19ERVNDUklQQ0lPTjpUUlVOQ0FURSxQUk9EVUNUT1NfREVTQ1JJUENJT046UkVGRVJFTkNFUyxQUk9EVUNUT1NfREVTQ1JJUENJT046VFJJR0dFUixFU1RBRE9TX1BST0RVQ1RPU19USVBPUzpJTlNFUlQsRVNUQURPU19QUk9EVUNUT1NfVElQT1M6U0VMRUNULEVTVEFET1NfUFJPRFVDVE9TX1RJUE9TOlVQREFURSxFU1RBRE9TX1BST0RVQ1RPU19USVBPUzpERUxFVEUsRVNUQURPU19QUk9EVUNUT1NfVElQT1M6VFJVTkNBVEUsRVNUQURPU19QUk9EVUNUT1NfVElQT1M6UkVGRVJFTkNFUyxFU1RBRE9TX1BST0RVQ1RPU19USVBPUzpUUklHR0VSLFBST0RVQ1RPU19USVBPUzpJTlNFUlQsUFJPRFVDVE9TX1RJUE9TOlNFTEVDVCxQUk9EVUNUT1NfVElQT1M6VVBEQVRFLFBST0RVQ1RPU19USVBPUzpERUxFVEUsUFJPRFVDVE9TX1RJUE9TOlRSVU5DQVRFLFBST0RVQ1RPU19USVBPUzpSRUZFUkVOQ0VTLFBST0RVQ1RPU19USVBPUzpUUklHR0VSLFBBR09TX0NPTVBSQVM6SU5TRVJULFBBR09TX0NPTVBSQVM6U0VMRUNULFBBR09TX0NPTVBSQVM6VVBEQVRFLFBBR09TX0NPTVBSQVM6REVMRVRFLFBBR09TX0NPTVBSQVM6VFJVTkNBVEUsUEFHT1NfQ09NUFJBUzpSRUZFUkVOQ0VTLFBBR09TX0NPTVBSQVM6VFJJR0dFUixTVE9DS19NT1ZJTUlFTlRPUzpJTlNFUlQsU1RPQ0tfTU9WSU1JRU5UT1M6U0VMRUNULFNUT0NLX01PVklNSUVOVE9TOlVQREFURSxTVE9DS19NT1ZJTUlFTlRPUzpERUxFVEUsU1RPQ0tfTU9WSU1JRU5UT1M6VFJVTkNBVEUsU1RPQ0tfTU9WSU1JRU5UT1M6UkVGRVJFTkNFUyxTVE9DS19NT1ZJTUlFTlRPUzpUUklHR0VSLENVT1RBU19DT01QUkFTOklOU0VSVCxDVU9UQVNfQ09NUFJBUzpTRUxFQ1QsQ1VPVEFTX0NPTVBSQVM6VVBEQVRFLENVT1RBU19DT01QUkFTOkRFTEVURSxDVU9UQVNfQ09NUFJBUzpUUlVOQ0FURSxDVU9UQVNfQ09NUFJBUzpSRUZFUkVOQ0VTLENVT1RBU19DT01QUkFTOlRSSUdHRVIsVkVOVEFTOklOU0VSVCxWRU5UQVM6U0VMRUNULFZFTlRBUzpVUERBVEUsVkVOVEFTOkRFTEVURSxWRU5UQVM6VFJVTkNBVEUsVkVOVEFTOlJFRkVSRU5DRVMsVkVOVEFTOlRSSUdHRVIsVVNVQVJJT1M6SU5TRVJULFVTVUFSSU9TOlNFTEVDVCxVU1VBUklPUzpVUERBVEUsVVNVQVJJT1M6REVMRVRFLFVTVUFSSU9TOlRSVU5DQVRFLFVTVUFSSU9TOlJFRkVSRU5DRVMsVVNVQVJJT1M6VFJJR0dFUixQUk9EVUNUT1NfVElQT1NfREVTQ1JJUENJT046SU5TRVJULFBST0RVQ1RPU19USVBPU19ERVNDUklQQ0lPTjpTRUxFQ1QsUFJPRFVDVE9TX1RJUE9TX0RFU0NSSVBDSU9OOlVQREFURSxQUk9EVUNUT1NfVElQT1NfREVTQ1JJUENJT046REVMRVRFLFBST0RVQ1RPU19USVBPU19ERVNDUklQQ0lPTjpUUlVOQ0FURSxQUk9EVUNUT1NfVElQT1NfREVTQ1JJUENJT046UkVGRVJFTkNFUyxQUk9EVUNUT1NfVElQT1NfREVTQ1JJUENJT046VFJJR0dFUixFU1RBRE9TX1ZFTlRBUzpJTlNFUlQsRVNUQURPU19WRU5UQVM6U0VMRUNULEVTVEFET1NfVkVOVEFTOlVQREFURSxFU1RBRE9TX1ZFTlRBUzpERUxFVEUsRVNUQURPU19WRU5UQVM6VFJVTkNBVEUsRVNUQURPU19WRU5UQVM6UkVGRVJFTkNFUyxFU1RBRE9TX1ZFTlRBUzpUUklHR0VSLFBST0RVQ1RPUzpJTlNFUlQsUFJPRFVDVE9TOlNFTEVDVCxQUk9EVUNUT1M6VVBEQVRFLFBST0RVQ1RPUzpERUxFVEUsUFJPRFVDVE9TOlRSVU5DQVRFLFBST0RVQ1RPUzpSRUZFUkVOQ0VTLFBST0RVQ1RPUzpUUklHR0VSLEVTVEFET1NfUFJPRFVDVE9TX0NPTVBPTkVOVEVTOklOU0VSVCxFU1RBRE9TX1BST0RVQ1RPU19DT01QT05FTlRFUzpTRUxFQ1QsRVNUQURPU19QUk9EVUNUT1NfQ09NUE9ORU5URVM6VVBEQVRFLEVTVEFET1NfUFJPRFVDVE9TX0NPTVBPTkVOVEVTOkRFTEVURSxFU1RBRE9TX1BST0RVQ1RPU19DT01QT05FTlRFUzpUUlVOQ0FURSxFU1RBRE9TX1BST0RVQ1RPU19DT01QT05FTlRFUzpSRUZFUkVOQ0VTLEVTVEFET1NfUFJPRFVDVE9TX0NPTVBPTkVOVEVTOlRSSUdHRVIsUFJPRFVDVE9TX0NPTVBPTkVOVEVTOklOU0VSVCxQUk9EVUNUT1NfQ09NUE9ORU5URVM6U0VMRUNULFBST0RVQ1RPU19DT01QT05FTlRFUzpVUERBVEUsUFJPRFVDVE9TX0NPTVBPTkVOVEVTOkRFTEVURSxQUk9EVUNUT1NfQ09NUE9ORU5URVM6VFJVTkNBVEUsUFJPRFVDVE9TX0NPTVBPTkVOVEVTOlJFRkVSRU5DRVMsUFJPRFVDVE9TX0NPTVBPTkVOVEVTOlRSSUdHRVIsVkVOVEFTX0RFVEFMTEVTOklOU0VSVCxWRU5UQVNfREVUQUxMRVM6U0VMRUNULFZFTlRBU19ERVRBTExFUzpVUERBVEUsVkVOVEFTX0RFVEFMTEVTOkRFTEVURSxWRU5UQVNfREVUQUxMRVM6VFJVTkNBVEUsVkVOVEFTX0RFVEFMTEVTOlJFRkVSRU5DRVMsVkVOVEFTX0RFVEFMTEVTOlRSSUdHRVIsU1VNSU5JU1RST1NfTU9WSU1JRU5UT1NfU1RPQ0s6SU5TRVJULFNVTUlOSVNUUk9TX01PVklNSUVOVE9TX1NUT0NLOlNFTEVDVCxTVU1JTklTVFJPU19NT1ZJTUlFTlRPU19TVE9DSzpVUERBVEUsU1VNSU5JU1RST1NfTU9WSU1JRU5UT1NfU1RPQ0s6REVMRVRFLFNVTUlOSVNUUk9TX01PVklNSUVOVE9TX1NUT0NLOlRSVU5DQVRFLFNVTUlOSVNUUk9TX01PVklNSUVOVE9TX1NUT0NLOlJFRkVSRU5DRVMsU1VNSU5JU1RST1NfTU9WSU1JRU5UT1NfU1RPQ0s6VFJJR0dFUixFTlRJREFERVM6SU5TRVJULEVOVElEQURFUzpTRUxFQ1QsRU5USURBREVTOlVQREFURSxFTlRJREFERVM6REVMRVRFLEVOVElEQURFUzpUUlVOQ0FURSxFTlRJREFERVM6UkVGRVJFTkNFUyxFTlRJREFERVM6VFJJR0dFUixFU1RBRE9TX0FSQ0hJVk9TX01PVklNSUVOVE9TX1NUT0NLOklOU0VSVCxFU1RBRE9TX0FSQ0hJVk9TX01PVklNSUVOVE9TX1NUT0NLOlNFTEVDVCxFU1RBRE9TX0FSQ0hJVk9TX01PVklNSUVOVE9TX1NUT0NLOlVQREFURSxFU1RBRE9TX0FSQ0hJVk9TX01PVklNSUVOVE9TX1NUT0NLOkRFTEVURSxFU1RBRE9TX0FSQ0hJVk9TX01PVklNSUVOVE9TX1NUT0NLOlRSVU5DQVRFLEVTVEFET1NfQVJDSElWT1NfTU9WSU1JRU5UT1NfU1RPQ0s6UkVGRVJFTkNFUyxFU1RBRE9TX0FSQ0hJVk9TX01PVklNSUVOVE9TX1NUT0NLOlRSSUdHRVIsRVNUQURPU19NT1ZJTUlFTlRPU19TVE9DSzpJTlNFUlQsRVNUQURPU19NT1ZJTUlFTlRPU19TVE9DSzpTRUxFQ1QsRVNUQURPU19NT1ZJTUlFTlRPU19TVE9DSzpVUERBVEUsRVNUQURPU19NT1ZJTUlFTlRPU19TVE9DSzpERUxFVEUsRVNUQURPU19NT1ZJTUlFTlRPU19TVE9DSzpUUlVOQ0FURSxFU1RBRE9TX01PVklNSUVOVE9TX1NUT0NLOlJFRkVSRU5DRVMsRVNUQURPU19NT1ZJTUlFTlRPU19TVE9DSzpUUklHR0VSLEVTVEFET1NfQ1VPVEFTX0NPTVBSQVM6SU5TRVJULEVTVEFET1NfQ1VPVEFTX0NPTVBSQVM6U0VMRUNULEVTVEFET1NfQ1VPVEFTX0NPTVBSQVM6VVBEQVRFLEVTVEFET1NfQ1VPVEFTX0NPTVBSQVM6REVMRVRFLEVTVEFET1NfQ1VPVEFTX0NPTVBSQVM6VFJVTkNBVEUsRVNUQURPU19DVU9UQVNfQ09NUFJBUzpSRUZFUkVOQ0VTLEVTVEFET1NfQ1VPVEFTX0NPTVBSQVM6VFJJR0dFUixFU1RBRE9TX0NPTVBSQVM6SU5TRVJULEVTVEFET1NfQ09NUFJBUzpTRUxFQ1QsRVNUQURPU19DT01QUkFTOlVQREFURSxFU1RBRE9TX0NPTVBSQVM6REVMRVRFLEVTVEFET1NfQ09NUFJBUzpUUlVOQ0FURSxFU1RBRE9TX0NPTVBSQVM6UkVGRVJFTkNFUyxFU1RBRE9TX0NPTVBSQVM6VFJJR0dFUixNRURJT1NfUEFHTzpJTlNFUlQsTUVESU9TX1BBR086U0VMRUNULE1FRElPU19QQUdPOlVQREFURSxNRURJT1NfUEFHTzpERUxFVEUsTUVESU9TX1BBR086VFJVTkNBVEUsTUVESU9TX1BBR086UkVGRVJFTkNFUyxNRURJT1NfUEFHTzpUUklHR0VSLEVTVEFET1NfUFJPRFVDVE9TX0RFU0NSSVBDSU9ORVM6SU5TRVJULEVTVEFET1NfUFJPRFVDVE9TX0RFU0NSSVBDSU9ORVM6U0VMRUNULEVTVEFET1NfUFJPRFVDVE9TX0RFU0NSSVBDSU9ORVM6VVBEQVRFLEVTVEFET1NfUFJPRFVDVE9TX0RFU0NSSVBDSU9ORVM6REVMRVRFLEVTVEFET1NfUFJPRFVDVE9TX0RFU0NSSVBDSU9ORVM6VFJVTkNBVEUsRVNUQURPU19QUk9EVUNUT1NfREVTQ1JJUENJT05FUzpSRUZFUkVOQ0VTLEVTVEFET1NfUFJPRFVDVE9TX0RFU0NSSVBDSU9ORVM6VFJJR0dFUixFU1RBRE9TX0NPTVBPTkVOVEVTX0RFVEFMTEVTOklOU0VSVCxFU1RBRE9TX0NPTVBPTkVOVEVTX0RFVEFMTEVTOlNFTEVDVCxFU1RBRE9TX0NPTVBPTkVOVEVTX0RFVEFMTEVTOlVQREFURSxFU1RBRE9TX0NPTVBPTkVOVEVTX0RFVEFMTEVTOkRFTEVURSxFU1RBRE9TX0NPTVBPTkVOVEVTX0RFVEFMTEVTOlRSVU5DQVRFLEVTVEFET1NfQ09NUE9ORU5URVNfREVUQUxMRVM6UkVGRVJFTkNFUyxFU1RBRE9TX0NPTVBPTkVOVEVTX0RFVEFMTEVTOlRSSUdHRVIsRU5USURBREVTX1RJUE9TX0NBVEVHT1JJQVM6SU5TRVJULEVOVElEQURFU19USVBPU19DQVRFR09SSUFTOlNFTEVDVCxFTlRJREFERVNfVElQT1NfQ0FURUdPUklBUzpVUERBVEUsRU5USURBREVTX1RJUE9TX0NBVEVHT1JJQVM6REVMRVRFLEVOVElEQURFU19USVBPU19DQVRFR09SSUFTOlRSVU5DQVRFLEVOVElEQURFU19USVBPU19DQVRFR09SSUFTOlJFRkVSRU5DRVMsRU5USURBREVTX1RJUE9TX0NBVEVHT1JJQVM6VFJJR0dFUixFTlRJREFERVNfVElQT1M6SU5TRVJULEVOVElEQURFU19USVBPUzpTRUxFQ1QsRU5USURBREVTX1RJUE9TOlVQREFURSxFTlRJREFERVNfVElQT1M6REVMRVRFLEVOVElEQURFU19USVBPUzpUUlVOQ0FURSxFTlRJREFERVNfVElQT1M6UkVGRVJFTkNFUyxFTlRJREFERVNfVElQT1M6VFJJR0dFUixFU1RBRE9TX1BST0RVQ1RPUzpJTlNFUlQsRVNUQURPU19QUk9EVUNUT1M6U0VMRUNULEVTVEFET1NfUFJPRFVDVE9TOlVQREFURSxFU1RBRE9TX1BST0RVQ1RPUzpERUxFVEUsRVNUQURPU19QUk9EVUNUT1M6VFJVTkNBVEUsRVNUQURPU19QUk9EVUNUT1M6UkVGRVJFTkNFUyxFU1RBRE9TX1BST0RVQ1RPUzpUUklHR0VSLEFVRElUT1JJQVM6SU5TRVJULEFVRElUT1JJQVM6U0VMRUNULEFVRElUT1JJQVM6VVBEQVRFLEFVRElUT1JJQVM6REVMRVRFLEFVRElUT1JJQVM6VFJVTkNBVEUsQVVESVRPUklBUzpSRUZFUkVOQ0VTLEFVRElUT1JJQVM6VFJJR0dFUixVU1VBUklPU19ST0xFUzpJTlNFUlQsVVNVQVJJT1NfUk9MRVM6U0VMRUNULFVTVUFSSU9TX1JPTEVTOlVQREFURSxVU1VBUklPU19ST0xFUzpERUxFVEUsVVNVQVJJT1NfUk9MRVM6VFJVTkNBVEUsVVNVQVJJT1NfUk9MRVM6UkVGRVJFTkNFUyxVU1VBUklPU19ST0xFUzpUUklHR0VSIiwiZXhwIjoxNzMzODIyMjUzLCJpc3MiOiJodHRwczovL2Fwb251c3dlYi5vbnJlbmRlci5jb20vIiwiYXVkIjoidHUtZG9taW5pby5jb20ifQ.pO5-cdkWsAQl_vNfBeRXU8RIXiRtHVMjQw-lmTjuUvI`
        }
    }
}

export interface IRestClient {
    get: <GData, GError>(url: string, config: AxiosRequestConfig | undefined) => Promise<TResponse<GData, GError>>
    post: <GData, GError>(url: string, body: any, config: AxiosRequestConfig | undefined) => Promise<TResponse<GData, GError>>
    put: <GData, GError>(url: string, body: any, config: AxiosRequestConfig | undefined) => Promise<TResponse<GData, GError>>
    del: <GError>(url: string, config: AxiosRequestConfig | undefined) => Promise<TResponse<null, GError>>
}

export const useRestClient = (): IRestClient => {

    const get: IRestClient['get'] = <TData, GError>(url: string, config: AxiosRequestConfig | undefined) =>
        axios.get<TData>(url, getConfigWithTokenHelper(config))
            .then(response => createResponseUtil.success<TData>(response.data, response.status))
            .catch((error: AxiosError<GError>) => {
                if (error.status === 401) unAuthorizedHandler();
                return createResponseUtil.error<GError | null>(error.response?.data ?? null, error.status ?? 500)
            })
    const post: IRestClient['post'] = <TData, GError>(url: string, body: any, config: AxiosRequestConfig | undefined) =>
        axios.post<TData>(url, body, getConfigWithTokenHelper(config))
            .then(response => createResponseUtil.success<TData>(response.data, response.status))
            .catch((error: AxiosError<GError>) => {
                if (error.status === 401) unAuthorizedHandler();
                return createResponseUtil.error<GError | null>(error.response?.data ?? null, error.status ?? 500)
            })
    const put: IRestClient['put'] = <TData, GError>(url: string, body: any, config: AxiosRequestConfig | undefined) =>
        axios.put<TData>(url, body, getConfigWithTokenHelper(config))
            .then(response => createResponseUtil.success<TData>(response.data, response.status))
            .catch((error: AxiosError<GError>) => {
                if (error.status === 401) unAuthorizedHandler();
                return createResponseUtil.error<GError | null>(error.response?.data ?? null, error.status ?? 500)
            })

    const del: IRestClient['del'] = <GError>(url: string, config: AxiosRequestConfig | undefined) =>
        axios.delete(url, getConfigWithTokenHelper(config))
            .then(response => createResponseUtil.success<null>(null, response.status))
            .catch((error: AxiosError<GError>) => {
                if (error.status === 401) unAuthorizedHandler();
                return createResponseUtil.error<GError | null>(error.response?.data ?? null, error.status ?? 500)
            })

    return {
        get,
        post,
        put,
        del
    }
}
